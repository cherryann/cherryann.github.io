<!DOCTYPE html>
<html lang="de">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>RAGLETTER - Wir haben dir was rausgelegt.</title>

	<style type="text/css">
		@import url(https://fonts.googleapis.com/css?family=Raleway:500);
		@import url(https://fonts.googleapis.com/css?family=Oswald);

		body {
			padding: 0;
			margin: 0;
			background: #f5f5f5;
		}

		.mod-article {
			margin: 30px;
		}

		.mod-article__item {
			width: 100%;
			float: left;
			padding: 20px;
			box-sizing: border-box;
			text-decoration: none;
			position: relative;
		}

		@media only screen and ( min-width: 800px ) {
			.mod-article__item {
				width: 50%;
			}
		}

		@media only screen and ( min-width: 1000px ) {
			.mod-article__item {
				width: 25%;
			}
		}

		.mod-article__item:hover .mod-article__brand {
			opacity: 0;
		}

		.mod-article__item:hover .mod-article__headline {
			color: #41a485;
		}

		.mod-article__item:hover  .mod-article__image-wrapper {
			border: 3px solid #179bd4;
		}

		.mod-article__item:hover .layer {
			opacity: 1;
		}

		header,
		.mod-article__price,
		.mod-article__headline {
			font-family: 'Raleway', Arial, sans-serif;
			font-size: 16px;
			text-transform: uppercase;
			line-height: 1.2;
			color: #191919;
			display: block;
			transition: 0.3s color ease;
		}

		.mod-article__price {
			font-family: 'Oswald', Arial, sans-serif;
			font-size: 20px;
			color: #179bd4;
			margin-top: 10px;
		}

		.mod-article__image-wrapper {
			margin-bottom: 10px;
			border: 3px solid #eaeaea;
			transition: 0.3s border ease;
			position: relative;
			background: white;
		}

		.mod-article__image {
			width: 100%;
			height: auto;
		}

		.mod-article__brand {
			display: block;
			position: absolute;
			opacity: 1;
			top: 10px;
			right: 10px;
			transition: 0.3s opacity ease-out;
			box-shadow: 0 5px 15px 0 rgba(0,0,0,0.15);
		}

		.mod-article__headline {
			text-overflow: ellipsis;
			width: 100%;
			white-space: nowrap;
			overflow: hidden;
		}

		header {
			padding: 50px;
			font-size: 25px;
			color: white;
			margin: auto;
			background: linear-gradient(to right,#42a483 0,#41a485 29%,#33a19f 51%,#209dc3 71%,#179bd4 100%);
		}

		footer {
			width: 100%;
			height: 30px;
			background: linear-gradient(to right,#42a483 0,#41a485 29%,#33a19f 51%,#209dc3 71%,#179bd4 100%);
		}

		.logo {
			font-family: 'Raleway', Arial, sans-serif;
			position: relative;
			left: 50%;
			margin-left: -142px;
			margin-bottom: 30px;
			color: #fff;
			max-width: 285px;
			width: 100%;
			text-align: center;
			font-size: 16px;
			-webkit-box-sizing: content-box;
			box-sizing: content-box;
		}
		.logo h1,
		.logo h5 {
			margin: 0;
			text-transform: uppercase;
		}
		.logo h1 {
			font-family: 'Oswald', Arial, sans-serif;
			font-size: 2.8em;
			line-height: 50px;
			position: relative;
			color: #fff;
			text-align: center;
			margin: 0 0 7px;
		}
		.logo h5 {
			margin: 0 30px;
			padding: 5px 0;
			font-weight: 500;
			border-top: 4px solid #fff;
			border-bottom: 4px solid #fff;
			white-space: nowrap;
		}
		.logo h5:after {
			content: '';
			position: absolute;
			width: 0;
			height: 0;
			top: 100%;
			left: 50%;
			-webkit-transform: translate(-50%);
			transform: translate(-50%);
			border-width: 20px 30px;
			border-style: solid;
			border-color: #fff #fff transparent #fff;
		}
		.logo h6 {
			margin: 0 0 2px;
			position: relative;
			text-transform: uppercase;
			letter-spacing: 5px;
		}

		.clearfix:after {
			content: ".";
			clear: both;
			display: block;
			visibility: hidden;
			height: 0;
		}

		.mod-article__item.mod-article--not-available {
			opacity: 0.5;
			cursor: default;
			pointer-events: none;
		}

		.mod-article__item.mod-article--not-available:hover .mod-article__brand {
			opacity: 1;
		}

		.mod-article__item.mod-article--not-available:hover .mod-article__headline {
			color: #191919;
		}

		.mod-article__item.mod-article--not-available:hover  .mod-article__image-wrapper {
			border: 3px solid #eaeaea;
		}

		.layer {
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			padding: 40px;
			display: flex;
			align-items: center;
			justify-content: center;
			flex-direction: column;
			opacity: 0;
			transition: 0.3s opacity ease-out;
		}

		.layer__backdrop {
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			background: black;
			opacity: 0.5;
		}

		.layer__content,
		.layer__headline {
			color: white;
			opacity: 1;
			position: relative;
			z-index: 1;
			font-size: 20px;
		}

		.layer__headline {
			display: block;
			margin-bottom: 20px;
			font-family: 'Raleway', Arial, sans-serif;
		}

		.layer__content {
			text-align: left;
			font-family: 'Oswald', Arial, sans-serif;
		}

		.label-not-available {
			font-family: 'Raleway', Arial, sans-serif;
			color: red;
			background: white;
			padding: 10px;
		}

		.label-not-available-wrapper {
			position: absolute;
			top: 0;
			bottom: 0;
			right: 0;
			left: 0;
			display: flex;
			align-items: center;
			justify-content: center;
			flex-direction: column;
		}
	</style>
</head>
<body>
<header>
	<div class="logo">
		<h6>Est. 2017</h6>
		<h1>Ragletter</h1>
		<h5>Wir haben dir was rausgelegt.</h5>
	</div>
</header>
<div class="mod-article clearfix" id="modArticle"></div>
<footer></footer>

<script type="text/javascript">
	var staticData = ["pi912ba0k-k11", "ad112b0h9-c11", "ti315b01h-c11", "hu315a00n-802", "le222h00v-q11", "bh622ha0z-n11"];

	var getJSON = function (url, callback) {
		var xhr = new XMLHttpRequest();
		xhr.open('GET', url, true);
		xhr.responseType = 'json';
		xhr.onload = function () {
			var status = xhr.status;
			if (status == 200) {
				callback(null, xhr.response);
			} else {
				callback(status);
			}
		};
		xhr.send();
	};

	window.staticData.forEach(function (eachArticle, index) {
	getJSON('https://api.zalando.com/articles/' + eachArticle,
		function (err, data) {
			var brand = data.brand.logoUrl;
			var brandname = data.brand.name;
			var name = data.name;
			var price = data.units[0].price.formatted;
			var showUrl = data.shopUrl;
			var image = data.media.images[0].largeUrl;
			var createContentTest = '';

			var createContent = '';

			if ( data.available ) {
				createContent += '<a href="'+ showUrl + '" target="_blank" class="mod-article__item">' +
						'<div class="mod-article__image-wrapper"><img src="'+ image + '" class="mod-article__image" />';

				createContent += '<span class="layer"><span class="layer__headline">- Verfügbar -</span><span class="layer__content">';

				for ( var u = 0; u < data.units.length; u++) {
					if ( data.units[u].available === true ) {
						createContentTest += data.units[u].size + ', ';
					}
				}

				createContent += createContentTest.slice( 0, -2 ) + '</span><span class="layer__backdrop"></span></span>';

				createContent += '</div>' +
						'<img src="'+ brand + '" class="mod-article__brand" />' +
						'<span class="mod-article__headline">'+ brandname +' - '+ name + '</span>' +
						'<span class="mod-article__price">'+ price + '</span>';


				createContent += '</a>';

			} else {
				createContent += '<div class="mod-article__item mod-article--not-available">' +
						'<div class="mod-article__image-wrapper"><span class="label-not-available-wrapper"><span class="label-not-available">Nicht verfügbar</span></span>' +
						'<img src="'+ image + '" class="mod-article__image" /></div>' +
						'<img src="'+ brand + '" class="mod-article__brand" />' +
						'<span class="mod-article__headline">'+ brandname +' - '+ name + '</span>' +
						'<span class="mod-article__price">'+ price + '</span></div>';
			}

			modArticle.innerHTML += createContent;

		});
	});

</script>
</body>
</html>
